<div class="container mx-auto px-4 py-8" *ngIf="recipe">
  <div class="max-w-3xl mx-auto">
    <div class="flex justify-between items-center mb-8">
      <h1 class="text-3xl font-bold text-gray-900">{{ recipe.name }}</h1>
      <div class="space-x-4">
        <button (click)="goBack()" class="text-gray-600 hover:text-gray-800">
          Back
        </button>
        <ng-container *ngIf="isOwner">
          <a
            [routerLink]="['/recipe', recipe.id, 'edit']"
            class="text-indigo-600 hover:text-indigo-800"
          >
            Edit
          </a>
          <button (click)="onDelete()" class="text-red-600 hover:text-red-800">
            Delete
          </button>
        </ng-container>
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6">
      <div class="mb-6">
        <h2 class="text-xl font-semibold mb-2">Time</h2>
        <p class="text-gray-600">
          Preparation: {{ recipe.time.preparation }} minutes<br />
          Cooking: {{ recipe.time.cooking }} minutes<br />
          Total: {{ recipe.time.preparation + recipe.time.cooking }} minutes
        </p>
      </div>

      <div class="mb-6">
        <h2 class="text-xl font-semibold mb-2">Difficulty</h2>
        <span
          class="inline-flex px-3 py-1 rounded-full text-sm font-medium"
          [ngClass]="{
            'bg-green-100 text-green-800': recipe.difficulty === 'easy',
            'bg-yellow-100 text-yellow-800': recipe.difficulty === 'medium',
            'bg-red-100 text-red-800': recipe.difficulty === 'hard'
          }"
        >
          {{ recipe.difficulty | titlecase }}
        </span>
      </div>

      <div class="mb-6">
        <h2 class="text-xl font-semibold mb-2">Ingredients</h2>
        <ul class="list-disc pl-5 space-y-1">
          <li
            *ngFor="let ingredient of recipe.ingredients"
            class="text-gray-600"
          >
            {{ ingredient }}
          </li>
        </ul>
      </div>

      <div class="mb-6">
        <h2 class="text-xl font-semibold mb-2">Steps</h2>
        <ol class="list-decimal pl-5 space-y-2">
          <li *ngFor="let step of recipe.steps" class="text-gray-600">
            {{ step }}
          </li>
        </ol>
      </div>

      <div class="mt-4 text-sm text-gray-500">
        Created by {{ recipe.author.name }} on {{ recipe.createdAt | date }}
      </div>
    </div>

    <div *ngIf="error" class="mt-4 text-red-600">
      {{ error }}
    </div>
  </div>
</div>
